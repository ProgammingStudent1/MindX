<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="css/chcss.css" type="text/css">
    <title>Document</title>
</head>
<body></body>
    <div id="chessBoard">
        <div class="row">
            <div class="cell a black" id="div0_0" onclick="test('div0_0')">
                <img src="img/bRook.png">
            </div>
            <div class="cell a white" id="div0_1" onclick="test('div0_1')">
                <img src="img/bKnight.png">
            </div>
            <div class="cell a black" id="div0_2" onclick="test('div0_2')">
                <img src="img/bBishop.png">
            </div>
            <div class="cell a white" id="div0_3" onclick="test('div0_3')">
                <img src="img/bQueen.png">
            </div>
            <div class="cell a black" id="div0_4" onclick="test('div0_4')">
                <img src="img/bKing.png">
            </div>
            <div class="cell a white" id="div0_5" onclick="test('div0_5')">
                <img src="img/bBishop.png">
            </div>
            <div class="cell a black" id="div0_6" onclick="test('div0_6')">
                <img src="img/bKnight.png">
            </div>
            <div class="cell a white" id="div0_7" onclick="test('div0_7')">
                <img src="img/bRook.png">
            </div>
        </div>
        <div class="row">
            <div class="cell b white" id="div1_0" onclick="test('div1_0')">
                <img src="img/bPawn.png" id = "div10" alt="">
            </div>
            <div class="cell b black" id="div1_1" onclick="test('div1_1')">
                <img src="img/bPawn.png" id= "div11" alt="">
            </div>
            <div class="cell b white" id="div1_2" onclick="test('div1_2')">
                <img src="img/bPawn.png" id= "div12" alt="">
            </div>
            <div class="cell b black" id="div1_3" onclick="test('div1_3')">
                <img src="img/bPawn.png" id="div13" alt="">
            </div>
            <div class="cell b white" id="div1_4" onclick="test('div1_4')">
                <img src="img/bPawn.png" id="div14" alt="">
            </div>
            <div class="cell b black" id="div1_5" onclick="test('div1_5')">
                <img src="img/bPawn.png" id="div15" alt="">
            </div>
            <div class="cell b white" id="div1_6" onclick="test('div1_6')">
                <img src="img/bPawn.png" id="div16" alt="" >
            </div>
            <div class="cell b black" id="div1_7" onclick="test('div1_7')">
                <img src="img/bPawn.png" id="div17" alt="">
            </div>
        </div>
        <div class="row">
            <div class="cell c black" id="div2_0" onclick="test('div2_0')">
                <img id="div20" alt="">
            </div>
            <div class="cell c white" id="div2_1" onclick="test('div2_1')">
                <img id="div21" alt="">
            </div>
            <div class="cell c black" id="div2_2" onclick="test('div2_2')">
                <img id="div22" alt="">
            </div>
            <div class="cell c white" id="div2_3" onclick="test('div2_3')">
                <img id="div23" alt="">
            </div>
            <div class="cell c black" id="div2_4" onclick="test('div2_4')">
                <img id="div24" alt="">
            </div>
            <div class="cell c white" id="div2_5" onclick="test('div2_5')">
                <img id="div25" alt="">
            </div>
            <div class="cell c black" id="div2_6" onclick="test('div2_6')">
                <img id="div26" alt=""> 
            </div>
            <div class="cell c white" id="div2_7" onclick="test('div2_7')">
                <img id="div27" alt="">
            </div>
        </div>
        <div class="row">
            <div class="cell d white" id="div3_0" onclick="test('div3_0')">
                <img id="div30" alt="">
            </div>
            <div class="cell d black" id="div3_1" onclick="test('div3_1')">
                <img id="div31" alt="">
            </div>
            <div class="cell d white" id="div3_2" onclick="test('div3_2')">
                <img id="div32" alt="">
            </div>
            <div class="cell d black" id="div3_3" onclick="test('div3_3')">
                <img id="div33" alt="">
            </div>
            <div class="cell d white" id="div3_4" onclick="test('div3_4')">
                <img id="div34" alt="">
            </div>
            <div class="cell d black" id="div3_5" onclick="test('div3_5')">
                <img id="div35" alt="">
            </div>
            <div class="cell d white" id="div3_6" onclick="test('div3_6')">
                <img id="div36" alt="">
            </div>
            <div class="cell d black" id="div3_7" onclick="test('div3_7')">
                <img id="div37" alt="">
            </div>
        </div>
        <div class="row">
            <div class="cell e black" id="div4_0" onclick="test('div4_0')">
                <img id="div40" alt="">
            </div>
            <div class="cell e white" id="div4_1" onclick="test('div4_1')">
                <img id="div41" alt="">
            </div>
            <div class="cell e black" id="div4_2" onclick="test('div4_2')">
                <img id="div42" alt="">
            </div>
            <div class="cell e white" id="div4_3" onclick="test('div4_3')">
                <img id="div43" alt="">
            </div>
            <div class="cell e black" id="div4_4" onclick="test('div4_4')">
                <img id="div44" alt="">
            </div>
            <div class="cell e white" id="div4_5" onclick="test('div4_5')">
                <img id="div45" alt="">
            </div>
            <div class="cell e black" id="div4_6" onclick="test('div4_6')">
                <img id="div46" alt="">
            </div>
            <div class="cell e white" id="div4_7" onclick="test('div4_7')">
                <img id="div47" alt="">
            </div>
        </div>
        <div class="row">
            <div class="cell f white" id="div5_0" onclick="test('div5_0')">
                <img id="div50" alt="">
            </div>
            <div class="cell f black" id="div5_1" onclick="test('div5_1')">
                <img id="div51" alt="">
            </div>
            <div class="cell f white" id="div5_2" onclick="test('div5_2')">
                <img id="div52" alt="">
            </div>
            <div class="cell f black" id="div5_3" onclick="test('div5_3')">
                <img id="div53" alt="">
            </div>
            <div class="cell f white" id="div5_4" onclick="test('div5_4')">
                <img id="div54" alt="">
            </div>
            <div class="cell f black" id="div5_5" onclick="test('div5_5')">
                <img id="div55" alt="">
            </div>
            <div class="cell f white" id="div5_6" onclick="test('div5_6')">
                <img id="div56" alt="">
            </div>
            <div class="cell f black" id="div5_7" onclick="test('div5_7')">
                <img id="div57" alt="">
            </div>
        </div>
        <div class="row">
            <div class="cell g black" id="div6_0" onclick="test('div6_0')">
                <img src="img/wPawn.png" id="div60" alt="">
            </div>
            <div class="cell g white" id="div6_1" onclick="test('div6_1')">
                <img src="img/wPawn.png" id="div61" alt="">
            </div>
            <div class="cell g black" id="div6_2" onclick="test('div6_2')">
                <img src="img/wPawn.png" id="div62" alt="">
            </div>
            <div class="cell g white" id="div6_3" onclick="test('div6_3')">
                <img src="img/wPawn.png" id="div63" alt="">
            </div>
            <div class="cell g black" id="div6_4" onclick="test('div6_4')">
                <img src="img/wPawn.png" id="div64" alt="">
            </div>
            <div class="cell g white" id="div6_5" onclick="test('div6_5')">
                <img src="img/wPawn.png" id="div65" alt="">
            </div>
            <div class="cell g black" id="div6_6" onclick="test('div6_6')">
                <img src="img/wPawn.png" id="div66" alt="">
            </div>
            <div class="cell g white" id="div6_7" onclick="test('div6_7')">
                <img src="img/wPawn.png" id="div67" alt="">
            </div>
        </div>
        <div class="row">
            <div class="cell h white" id="div7_0" onclick="test('div7_0')">
                <img src="img/wRook.png" id="div70" alt="">
            </div>
            <div class="cell h black" id="div7_1" onclick="test('div7_1')">
                <img src="img/wKnight.png" id="div71" alt="">
            </div>
            <div class="cell h white" id="div7_2" onclick="test('div7_2')">
                <img src="img/wBishop.png" id="div72" alt="">
            </div>
            <div class="cell h black" id="div7_3" onclick="test('div7_3')">
                <img src="img/wQueen.png" id="div73" alt="">
            </div>
            <div class="cell h white" id="div7_4" onclick="test('div7_4')">
                <img src="img/wKing.png" id="div74" alt="">
            </div>
            <div class="cell h black" id="div7_5" onclick="test('div7_5')">
                <img src="img/wBishop.png" id="div75" alt="">
            </div>
            <div class="cell h white" id="div7_6" onclick="test('div7_6')">
                <img src="img/wKnight.png" id="div76" alt="">
            </div>
            <div class="cell h black" id="div7_7" onclick="test('div7_7')">
                <img src="img/wRook.png" id="div77" alt="">
            </div>
        </div>
    </div>
    <script>
        var save_src = "";
        var save_id = "";
        var check = 0 ;
        var boardChess=[
            [2,3,4,5,6,4,3,2],
            [1,1,1,1,1,1,1,1],
            [0,0,0,0,0,0,0,0],
            [0,0,0,0,0,0,0,0],
            [0,0,0,0,0,0,0,0],
            [0,0,0,0,0,0,0,0],
            [-1,-1,-1,-1,-1,-1,-1,-1],
            [-2,-3,-4,-5,-6,-4,-3,-2]
        ]
        function return_backgroundcolor(){
            for(var i=0; i<8; i++){
                for(var j=0; j<8; j++){
                    var sum = i+j;
                    var ss = document.getElementById('div'+i+"_"+j);
                    if(sum%2==0){
                       ss.style.backgroundColor = "rgb(236, 236, 236)";
                    }
                    else{
                        ss.style.backgroundColor = "rgb(134, 134, 134)";
                    }
                }
            }
        }
        function bPawn(x,y){
            if(boardChess[x][y]>0){
                if(x+1<8 && boardChess[x+1][y]==0){
                    document.getElementById("div"+(x+1)+"_"+y).style.backgroundColor = "green";
                }
            }
        }
        function wPawn(x,y){
            if(boardChess[x][y]>0){
                if(x-1>0 && boardChess[x-1][y]==0){
                    document.getElementById("div"+(x-1)+"_"+y).style.backgroundColor = "green"
                }
            }
        }
        function test(id){
            var id_1 = id.slice(3,id.length);
            var s = id_1.split('_');
            var x = Number(s[0]);
            var y = Number(s[1]);
            if(check == 0){
               check = 1;
               if(boardChess[x][y]==0) return;
               if(boardChess[x][y]==1){
                  save_id = 'div'+x+"_"+y;
                  save_src = document.getElementById('div'+x+y).src;
                  bPawn(x,y);
               }
               if(boardChess[x][y]==-1){
                  save_id = 'div'+x+"_"+y;
                  save_src = document.getElementById('div'+x+y).src; 
                  wPawn(x,y);
               }
            }
            else if(check == 1){
                save_id = save_id.slice(3,save_id.length);
                var s_1 = save_id.split("_");
                var x_1 = Number(s_1[0]);
                var y_1 = Number(s_1[1]);
                var ss = document.getElementById(id);
                var img_next = document.getElementById('div'+x+y);
                var img_save = document.getElementById('div'+x_1+y_1);
                if(ss.style.backgroundColor == "green"){
                    return_backgroundcolor();
                    img_next.src = save_src
                    img_save.src = "alt";
                    boardChess[x][y] = boardChess[x_1][y_1];
                    boardChess[x_1][y_1] = 0;
                    check = 0;
                }
                else{
                    return;
                }
            }

        }
    </script>   
</body>
</html>